# Flask

## Содержание

- [Philosophy](#philosophy)
- [Почему Flask](#%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83-flask)
- [Асинхронные vs Блокирующие запросы](#%D0%B0%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5-vs-%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D1%83%D1%8E%D1%89%D0%B8%D0%B5-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D1%8B)
- [Flask vs FastAPI](#flask-vs-fastapi)
- [Чего не хватает flask](#%D1%87%D0%B5%D0%B3%D0%BE-%D0%BD%D0%B5-%D1%85%D0%B2%D0%B0%D1%82%D0%B0%D0%B5%D1%82-flask)
- [Quart](#quart)
- [Полезные ссылки](#%D0%BF%D0%BE%D0%BB%D0%B5%D0%B7%D0%BD%D1%8B%D0%B5-%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8)

______________________________________________________________________

## Philosophy

> [!NOTE] Note
> “Flask is a microframework. It aims to keep the core simple but extensible.” @Flask Docs

1. Минимализм:

   - Flask по умолчанию даёт только базовый инструмент: маршрутизацию, запросы/ответы.
   - Всё остальное ты подключаешь сам (ORM, валидация, аутентификация и т.д.).

1. Явный контроль разработчика:

   - Ты сам решаешь, какие библиотеки использовать и как строить архитектуру.
   - Минимум "магии", максимум читаемости.

1. Простота и прозрачность:

   - Код легко читается, легко дебажить.
   - Отлично подходит для обучения и прототипов.

1. Расширяемость: flask-login, flask-sqlalchemy, flask-restful

> [!IMPORTANT] Источники:
> Официальная документация Flask
> Блог Miguel Grinsberg
> Комментации и обсуждения в GitHub Issues

______________________________________________________________________

## Почему Flask

В целом, Flask - всё еще актуальный фреймворк, потому что:

- Это отражают статистические данные
- Используется во множестве legacy проектов
- Минималистичный, простой и гибкий
- Вокруг него существует большое и активное сообщество
- Отличный выбор для кастомной архитектуры без навязанных решений

Но:

- Плохо подходит для крупных проектов: может потребоваться много ручной работы (авторизация, валидация, etc..)
- В крупных проектах больше подойдет FastApi из-за встроенной валидации и документации, а так же асинхронности, которую flask не поддерживает из коробки (только блокирующие запросы)
- Flask без костылей поддерживает только http/1.1

> [!NOTE] Note
> Все же сегодня Flask подойдет только для обучения

______________________________________________________________________

## Асинхронные vs Блокирующие запросы

Когда асинхронные запросы действительно важны:

- Высокая нагрузка: тысячи одновременных запросов.
- Много I/O-операций: частые запросы к БД, сторонним API, файловой системе.
- Низкие задержки важны: чаты, уведомления, real-time сервисы.
- Сервер-стриминг / WebSocket: например, лента обновлений, игры.

API с блокирующими запросами достаточно:

- Простой CRUD: обычное создание/чтение/обновление данных.
- Админки, панели управления.
- Малонагруженные сервисы, не под высокой нагрузкой.
- Когда проще писать и отлаживать синхронный код (обычно — быстрее и надёжнее для новичка).

______________________________________________________________________

## Flask vs FastAPI

**FastAPI** объективно превосходит flask

Но можно выбрать flask для:

- Учёба и понимание основ веб-приложений (WSGI, роутинг, middlewares, сессии).
- Маленькие API/сервисы без высоких требований к скорости.
- MVP, где важна простота и скорость разработки.
- Когда нужна максимальная гибкость и минимум встроенной "магии".

Во всех остальных случаях лучше выбрать FastAPI.

______________________________________________________________________

## Чего не хвататет flask?

Асинхронности "из коробки"

- Нельзя писать async def, не переделывая серверную обёртку.

Современного стандарта ASGI

- WSGI устарел, не поддерживает WebSockets, HTTP/2/3 и асинхронность.

Встроенной валидации данных

- Всё вручную или через сторонние библиотеки (marshmallow, pydantic, etc).

Автоматической документации API (OpenAPI/Swagger)

- В FastAPI это встроено, в Flask — только с расширениями.

Поддержки WebSockets, Server-Sent Events

- Нужны сторонние решения или переход на ASGI-сервер.

Нет официальных планов перевести Flask на ASGI или добавить полноценную async поддержку

______________________________________________________________________

## Quart

Это современный flask-совместимый микрофреймворк, который старается следовать философии flask, но так же предлагает:

1. Работа на ASGI
1. Async def
1. WebSockets
1. Поддержка http/2, http/3
1. Server-Sent Events
1. Background tasks
1. Streaming Responses
1. Подходит для отказоустойчивых приложений

Был создан в 2018 году

______________________________________________________________________

## Полезные ссылки

[Miguel Grinsberg: Flask Contributor Blog](#https://blog.miguelgrinberg.com/)

[Flask GitHub](#https://github.com/pallets/flask)\
[Flask Официальная документация](#https://flask.palletsprojects.com/en/stable/)\
[Flask-SQLAlchemy Официальная документация](#https://flask-sqlalchemy.readthedocs.io/en/stable/)\
[Flask-RESTful Официальная документация](#https://flask-restful.readthedocs.io/en/latest/)

[Quart GitHub](#https://github.com/pgjones/quart)
[Quart Официальная документация](#https://quart.palletsprojects.com/en/latest/)
